{"version":3,"sources":["../../src/controllers/config_ctrl.js"],"names":["_","OpenHistorianConfigCtrl","$scope","ctrl","current","jsonData","Included","undefined","Excluded","IncludeNormal","flags","DefaultFlags","merge","flagArray","map","Object","keys","a","key","order","Order","sort","b","flag","type","flagVarIncluded","flagVarExcluded","each","index","list","MeasurementStateFlags","padDigits","dec2hex","number","toString","toUpperCase","digits","Array","Math","max","String","length","join","templateUrl","Normal","BadData","SuspectData","OverRangeError","UnderRangeError","AlarmHigh","AlarmLow","WarningHigh","WarningLow","FlatlineAlarm","ComparisonAlarm","ROCAlarm","ReceivedAsBad","CalculatedValue","CalculationError","CalculationWarning","ReservedQualityFlag","BadTime","SuspectTime","LateTimeAlarm","FutureTimeAlarm","UpSampled","DownSampled","DiscardedValue","ReservedTimeFlag","UserDefinedFlag1","UserDefinedFlag2","UserDefinedFlag3","UserDefinedFlag4","UserDefinedFlag5","SystemError","SystemWarning","MeasurementError","pow"],"mappings":"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","file":"config_ctrl.js","sourcesContent":["//******************************************************************************************************\r\n//  config_ctrl.js - Gbtc\r\n//\r\n//  Copyright ï¿½ 2017, Grid Protection Alliance.  All Rights Reserved.\r\n//\r\n//  Licensed to the Grid Protection Alliance (GPA) under one or more contributor license agreements. See\r\n//  the NOTICE file distributed with this work for additional information regarding copyright ownership.\r\n//  The GPA licenses this file to you under the MIT License (MIT), the \"License\"; you may not use this\r\n//  file except in compliance with the License. You may obtain a copy of the License at:\r\n//\r\n//      http://opensource.org/licenses/MIT\r\n//\r\n//  Unless agreed to in writing, the subject software distributed under the License is distributed on an\r\n//  \"AS-IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. Refer to the\r\n//  License for the specific language governing permissions and limitations.\r\n//\r\n//  Code Modification History:\r\n//  ----------------------------------------------------------------------------------------------------\r\n//  10/30/2017 - Billy Ernest\r\n//       Generated original version of source code.\r\n//\r\n//******************************************************************************************************\r\nimport _ from \"lodash\";\r\n\r\nexport class OpenHistorianConfigCtrl{\r\n    constructor($scope) {\r\n\r\n    // #region Members\r\n        var ctrl = this;\r\n\r\n        ctrl.current.jsonData = ctrl.current.jsonData || {}\r\n        ctrl.current.jsonData.Included = (ctrl.current.jsonData.Included == undefined ? 0xFFFFFFF : ctrl.current.jsonData.Included);\r\n        ctrl.current.jsonData.Excluded = (ctrl.current.jsonData.Excluded == undefined ? 0x0000000 : ctrl.current.jsonData.Excluded);\r\n        ctrl.current.jsonData.IncludeNormal = (ctrl.current.jsonData.IncludeNormal == undefined ? true : ctrl.current.jsonData.IncludeNormal);\r\n\n\n        ctrl.current.jsonData.flags = (ctrl.current.jsonData.flags == undefined ?  DefaultFlags : _.merge(DefaultFlags, ctrl.current.jsonData.flags));\r\n\r\n        ctrl.flagArray = _.map(Object.keys(ctrl.current.jsonData.flags), function (a) {\r\n            return { key: a, order: ctrl.current.jsonData.flags[a].Order };\r\n        }).sort(function (a, b) {\r\n            return a.order - b.order;\r\n        });\r\n\r\n    // #endregion\r\n\r\n\r\n    }\r\n\r\n    // #region Methods\r\n    calculateFlags(flag, type) {\r\n        var ctrl = this;\r\n\r\n        var flagVarIncluded = 0;\r\n        var flagVarExcluded = 0;\r\n\r\n        if (flag == 'Select All') {\r\n            _.each(Object.keys(ctrl.current.jsonData.flags), function (key, index, list) {\r\n                if (type == 'Included') {\r\n                    ctrl.current.jsonData.flags[key].Excluded = false;\r\n                    ctrl.current.jsonData.flags[key].Included = true;\r\n                }\r\n                else if (type == 'Excluded') {\r\n                    ctrl.current.jsonData.flags[key].Included = false;\r\n                    ctrl.current.jsonData.flags[key].Excluded = true;\r\n                }\r\n            });\r\n\r\n            if (type == 'Included') {\r\n                flagVarIncluded = 0xFFFFFFFF;\r\n                flagVarExcluded = 0x00000000;\r\n            }\r\n            else if (type == 'Excluded') {\r\n                flagVarExcluded = 0xFFFFFFFF;\r\n                flagVarIncluded = 0x00000000;\r\n            }\r\n\r\n        }\r\n        else {\r\n            ctrl.current.jsonData.flags['Select All'].Included = false;\r\n            ctrl.current.jsonData.flags['Select All'].Excluded = false;\r\n\r\n            _.each(Object.keys(ctrl.current.jsonData.flags), function (key, index, list) {\r\n                if (key == 'Select All') return;\r\n\r\n                if (type == 'Included') {\r\n                    ctrl.current.jsonData.flags[key].Excluded = !ctrl.current.jsonData.flags[key].Included\r\n                }\r\n                else if (type == 'Excluded') {\r\n                    ctrl.current.jsonData.flags[key].Included = !ctrl.current.jsonData.flags[key].Excluded\r\n                }\r\n\r\n\r\n                flagVarIncluded = flagVarIncluded | (ctrl.current.jsonData.flags[key].Included ? MeasurementStateFlags[key] : 0);\r\n                flagVarExcluded = flagVarExcluded | (ctrl.current.jsonData.flags[key].Excluded ? MeasurementStateFlags[key] : 0);\r\n            });\r\n        }\r\n\r\n        ctrl.current.jsonData.Included = '0x' + ctrl.padDigits(this.dec2hex(flagVarIncluded), 8);\r\n        ctrl.current.jsonData.Excluded = '0x' + ctrl.padDigits(this.dec2hex(flagVarExcluded), 8);\r\n        ctrl.current.jsonData.IncludeNormal = ctrl.current.jsonData.flags['Normal'].Included;\r\n\r\n    }\r\n\r\n    dec2hex(number) {\r\n        if (number < 0) {\r\n            number = 0xFFFFFFFF + number + 1;\r\n        }\r\n\r\n        return number.toString(16).toUpperCase();\r\n    }\r\n\r\n    padDigits(number, digits) {\r\n        return Array(Math.max(digits - String(number).length + 1, 0)).join(0) + number;\r\n    }\r\n\r\n    // #endregion\r\n}\r\nOpenHistorianConfigCtrl.templateUrl = 'partial/config.html';\r\n\r\n// #region Constants\r\nconst DefaultFlags = {\n    'Select All': { Included: true, Excluded: false, Order: -1 },\n    Normal: { Included: true, Excluded: false, Order: 0 },\n    BadData: { Included: true, Excluded: false, Order: 1 },\n    SuspectData: { Included: true, Excluded: false, Order: 2 },\n    OverRangeError: { Included: true, Excluded: false, Order: 3 },\n    UnderRangeError: { Included: true, Excluded: false, Order: 4 },\n    AlarmHigh: { Included: true, Excluded: false, Order: 5 },\n    AlarmLow: { Included: true, Excluded: false, Order: 6 },\n    WarningHigh: { Included: true, Excluded: false, Order: 7 },\n    WarningLow: { Included: true, Excluded: false, Order: 8 },\n    FlatlineAlarm: { Included: true, Excluded: false, Order: 9 },\n    ComparisonAlarm: { Included: true, Excluded: false, Order: 10 },\n    ROCAlarm: { Included: true, Excluded: false, Order: 11 },\n    ReceivedAsBad: { Included: true, Excluded: false, Order: 12 },\n    CalculatedValue: { Included: true, Excluded: false, Order: 13 },\n    CalculationError: { Included: true, Excluded: false, Order: 14 },\n    CalculationWarning: { Included: true, Excluded: false, Order: 15 },\n    ReservedQualityFlag: { Included: true, Excluded: false, Order: 16 },\n    BadTime: { Included: true, Excluded: false, Order: 17 },\n    SuspectTime: { Included: true, Excluded: false, Order: 18 },\n    LateTimeAlarm: { Included: true, Excluded: false, Order: 19 },\n    FutureTimeAlarm: { Included: true, Excluded: false, Order: 20 },\n    UpSampled: { Included: true, Excluded: false, Order: 21 },\n    DownSampled: { Included: true, Excluded: false, Order: 22 },\n    DiscardedValue: { Included: true, Excluded: false, Order: 23 },\n    ReservedTimeFlag: { Included: true, Excluded: false, Order: 24 },\n    UserDefinedFlag1: { Included: true, Excluded: false, Order: 25 },\n    UserDefinedFlag2: { Included: true, Excluded: false, Order: 26 },\n    UserDefinedFlag3: { Included: true, Excluded: false, Order: 27 },\n    UserDefinedFlag4: { Included: true, Excluded: false, Order: 28 },\n    UserDefinedFlag5: { Included: true, Excluded: false, Order: 29 },\n    SystemError: { Included: true, Excluded: false, Order: 30 },\n    SystemWarning: { Included: true, Excluded: false, Order: 31 },\n    MeasurementError: { Included: true, Excluded: false, Order: 32 }\n}\r\n\r\nconst MeasurementStateFlags =\n{\n    /// <summary>\n    /// Defines normal state.\n    /// </summary>\n    Normal : 0,\n    /// <summary>\n    /// Defines bad data state.\n    /// </summary>\n    BadData : Math.pow(2,0),\n    /// <summary>\n    /// Defines suspect data state.\n    /// </summary>\n    SuspectData : Math.pow(2,1),\n    /// <summary>\n    /// Defines over range error, i.e., unreasonable high value.\n    /// </summary>\n    OverRangeError : Math.pow(2,2),\n    /// <summary>\n    /// Defines under range error, i.e., unreasonable low value.\n    /// </summary>\n    UnderRangeError : Math.pow(2,3),\n    /// <summary>\n    /// Defines alarm for high value.\n    /// </summary>\n    AlarmHigh : Math.pow(2,4),\n    /// <summary>\n    /// Defines alarm for low value.\n    /// </summary>\n    AlarmLow : Math.pow(2,5),\n    /// <summary>\n    /// Defines warning for high value.\n    /// </summary>\n    WarningHigh : Math.pow(2,6),\n    /// <summary>\n    /// Defines warning for low value.\n    /// </summary>\n    WarningLow : Math.pow(2,7),\n    /// <summary>\n    /// Defines alarm for flat-lined value, i.e., latched value test alarm.\n    /// </summary>\n    FlatlineAlarm : Math.pow(2,8),\n    /// <summary>\n    /// Defines comparison alarm, i.e., outside threshold of comparison with a real-time value.\n    /// </summary>\n    ComparisonAlarm : Math.pow(2,9),\n    /// <summary>\n    /// Defines rate-of-change alarm.\n    /// </summary>\n    ROCAlarm : Math.pow(2,10),\n    /// <summary>\n    /// Defines bad value received.\n    /// </summary>\n    ReceivedAsBad : Math.pow(2,11),\n    /// <summary>\n    /// Defines calculated value state.\n    /// </summary>\n    CalculatedValue : Math.pow(2,12),\n    /// <summary>\n    /// Defines calculation error with the value.\n    /// </summary>\n    CalculationError : Math.pow(2,13),\n    /// <summary>\n    /// Defines calculation warning with the value.\n    /// </summary>\n    CalculationWarning : Math.pow(2,14),\n    /// <summary>\n    /// Defines reserved quality flag.\n    /// </summary>\n    ReservedQualityFlag : Math.pow(2,15),\n    /// <summary>\n    /// Defines bad time state.\n    /// </summary>\n    BadTime : Math.pow(2,16),\n    /// <summary>\n    /// Defines suspect time state.\n    /// </summary>\n    SuspectTime : Math.pow(2,17),\n    /// <summary>\n    /// Defines late time alarm.\n    /// </summary>\n    LateTimeAlarm : Math.pow(2,18),\n    /// <summary>\n    /// Defines future time alarm.\n    /// </summary>\n    FutureTimeAlarm : Math.pow(2,19),\n    /// <summary>\n    /// Defines up-sampled state.\n    /// </summary>\n    UpSampled : Math.pow(2,20),\n    /// <summary>\n    /// Defines down-sampled state.\n    /// </summary>\n    DownSampled : Math.pow(2,21),\n    /// <summary>\n    /// Defines discarded value state.\n    /// </summary>\n    DiscardedValue : Math.pow(2,22),\n    /// <summary>\n    /// Defines reserved time flag.\n    /// </summary>\n    ReservedTimeFlag : Math.pow(2,23),\n    /// <summary>\n    /// Defines user defined flag 1.\n    /// </summary>\n    UserDefinedFlag1 : Math.pow(2,24),\n    /// <summary>\n    /// Defines user defined flag 2.\n    /// </summary>\n    UserDefinedFlag2 : Math.pow(2,25),\n    /// <summary>\n    /// Defines user defined flag 3.\n    /// </summary>\n    UserDefinedFlag3 : Math.pow(2,26),\n    /// <summary>\n    /// Defines user defined flag 4.\n    /// </summary>\n    UserDefinedFlag4 : Math.pow(2,27),\n    /// <summary>\n    /// Defines user defined flag 5.\n    /// </summary>\n    UserDefinedFlag5 : Math.pow(2,28),\n    /// <summary>\n    /// Defines system error state.\n    /// </summary>\n    SystemError : Math.pow(2,29),\n    /// <summary>\n    /// Defines system warning state.\n    /// </summary>\n    SystemWarning : Math.pow(2,30),\n    /// <summary>\n    /// Defines measurement error flag.\n    /// </summary>\n    MeasurementError : Math.pow(2,31)\n}\n\n// #endregion\n\n"]}