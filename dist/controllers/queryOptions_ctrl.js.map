{"version":3,"sources":["../../src/controllers/queryOptions_ctrl.js"],"names":["_","OpenHistorianQueryOptionsCtrl","$scope","ctrl","current","jsonData","Included","undefined","Excluded","flags","Order","BadData","SuspectData","OverRangeError","UnderRangeError","AlarmHigh","AlarmLow","WarningHigh","WarningLow","FlatlineAlarm","ComparisonAlarm","ROCAlarm","ReceivedAsBad","CalculatedValue","CalculationError","CalculationWarning","ReservedQualityFlag","BadTime","SuspectTime","LateTimeAlarm","FutureTimeAlarm","UpSampled","DownSampled","DiscardedValue","ReservedTimeFlag","UserDefinedFlag1","UserDefinedFlag2","UserDefinedFlag3","UserDefinedFlag4","UserDefinedFlag5","SystemError","SystemWarning","MeasurementError","flagArray","map","Object","keys","a","key","order","sort","b","flag","type","flagVarIncluded","flagVarExcluded","each","index","list","MeasurementStateFlags","padDigits","dec2hex","number","toString","toUpperCase","digits","Array","Math","max","String","length","join","templateUrl","pow"],"mappings":"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","file":"queryOptions_ctrl.js","sourcesContent":["//******************************************************************************************************\r\n//  queryOptions_ctrl.js - Gbtc\r\n//\r\n//  Copyright ï¿½ 2017, Grid Protection Alliance.  All Rights Reserved.\r\n//\r\n//  Licensed to the Grid Protection Alliance (GPA) under one or more contributor license agreements. See\r\n//  the NOTICE file distributed with this work for additional information regarding copyright ownership.\r\n//  The GPA licenses this file to you under the MIT License (MIT), the \"License\"; you may not use this\r\n//  file except in compliance with the License. You may obtain a copy of the License at:\r\n//\r\n//      http://opensource.org/licenses/MIT\r\n//\r\n//  Unless agreed to in writing, the subject software distributed under the License is distributed on an\r\n//  \"AS-IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. Refer to the\r\n//  License for the specific language governing permissions and limitations.\r\n//\r\n//  Code Modification History:\r\n//  ----------------------------------------------------------------------------------------------------\r\n//  10/31/2017 - Billy Ernest\r\n//       Generated original version of source code.\r\n//\r\n//******************************************************************************************************\r\nimport _ from \"lodash\";\r\n\r\nexport class OpenHistorianQueryOptionsCtrl{\r\n    constructor($scope) {\r\n        // #region Members\r\n        var ctrl = this;\r\n\r\n        ctrl.current.jsonData = ctrl.current.jsonData || {}\r\n        ctrl.current.jsonData.Included = (ctrl.current.jsonData.Included == undefined ? 0xFFFFFFF : ctrl.current.jsonData.Included);\r\n        ctrl.current.jsonData.Excluded = (ctrl.current.jsonData.Excluded == undefined ? 0x0000000 : ctrl.current.jsonData.Excluded);\r\n\n\n        ctrl.current.jsonData.flags = (ctrl.current.jsonData.flags == undefined ? {\n            'Select All': { Included: true, Excluded: false, Order: 0 },\n            BadData: { Included: true, Excluded: false, Order: 1 },\n            SuspectData: { Included: true, Excluded: false, Order: 2 },\n            OverRangeError: { Included: true, Excluded: false, Order: 3 },\n            UnderRangeError: { Included: true, Excluded: false, Order: 4 },\n            AlarmHigh: { Included: true, Excluded: false, Order: 5 },\n            AlarmLow: { Included: true, Excluded: false, Order: 6 },\n            WarningHigh: { Included: true, Excluded: false, Order: 7 },\n            WarningLow: { Included: true, Excluded: false, Order: 8 },\n            FlatlineAlarm: { Included: true, Excluded: false, Order: 9 },\n            ComparisonAlarm: { Included: true, Excluded: false, Order: 10 },\n            ROCAlarm: { Included: true, Excluded: false, Order: 11 },\n            ReceivedAsBad: { Included: true, Excluded: false, Order: 12 },\n            CalculatedValue: { Included: true, Excluded: false, Order: 13 },\n            CalculationError: { Included: true, Excluded: false, Order: 14 },\n            CalculationWarning: { Included: true, Excluded: false, Order: 15 },\n            ReservedQualityFlag: { Included: true, Excluded: false, Order: 16 },\n            BadTime: { Included: true, Excluded: false, Order: 17 },\n            SuspectTime: { Included: true, Excluded: false, Order: 18 },\n            LateTimeAlarm: { Included: true, Excluded: false, Order: 19 },\n            FutureTimeAlarm: { Included: true, Excluded: false, Order: 20 },\n            UpSampled: { Included: true, Excluded: false, Order: 21 },\n            DownSampled: { Included: true, Excluded: false, Order: 22 },\n            DiscardedValue: { Included: true, Excluded: false, Order: 23 },\n            ReservedTimeFlag: { Included: true, Excluded: false, Order: 24 },\n            UserDefinedFlag1: { Included: true, Excluded: false, Order: 25 },\n            UserDefinedFlag2: { Included: true, Excluded: false, Order: 26 },\n            UserDefinedFlag3: { Included: true, Excluded: false, Order: 27 },\n            UserDefinedFlag4: { Included: true, Excluded: false, Order: 28 },\n            UserDefinedFlag5: { Included: true, Excluded: false, Order: 29 },\n            SystemError: { Included: true, Excluded: false, Order: 30 },\n            SystemWarning: { Included: true, Excluded: false, Order: 31 },\n            MeasurementError: { Included: true, Excluded: false, Order: 32 }\n        } : ctrl.current.jsonData.flags);\r\n\r\n        ctrl.flagArray = _.map(Object.keys(ctrl.current.jsonData.flags), function (a) {\r\n            return { key: a, order: ctrl.current.jsonData.flags[a].Order };\r\n        }).sort(function (a, b) {\r\n            return a.order - b.order;\r\n        });\r\n\r\n    // #endregion\r\n\r\n    }\r\n\r\n    // #region Methods\r\n\r\n    getFlags() {\r\n        var ctrl = this;\r\n\r\n        return\r\n    }\r\n    calculateFlags(flag, type) {\r\n        var ctrl = this;\r\n\r\n        var flagVarIncluded = 0;\r\n        var flagVarExcluded = 0;\r\n\r\n        if (flag == 'Select All') {\r\n            _.each(Object.keys(ctrl.current.jsonData.flags), function (key, index, list) {\r\n                if (type == 'Included') {\r\n                    ctrl.current.jsonData.flags[key].Excluded = false;\r\n                    ctrl.current.jsonData.flags[key].Included = true;\r\n                }\r\n                else if (type == 'Excluded') {\r\n                    ctrl.current.jsonData.flags[key].Included = false;\r\n                    ctrl.current.jsonData.flags[key].Excluded = true;\r\n                }\r\n            });\r\n\r\n            if (type == 'Included') {\r\n                flagVarIncluded = 0xFFFFFFFF;\r\n                flagVarExcluded = 0x00000000;\r\n            }\r\n            else if (type == 'Excluded') {\r\n                flagVarExcluded = 0xFFFFFFFF;\r\n                flagVarIncluded = 0x00000000;\r\n            }\r\n\r\n        }\r\n        else {\r\n            ctrl.current.jsonData.flags['Select All'].Included = false;\r\n            ctrl.current.jsonData.flags['Select All'].Excluded = false;\r\n\r\n            _.each(Object.keys(ctrl.current.jsonData.flags), function (key, index, list) {\r\n                if (key == 'Select All') return;\r\n\r\n                if (type == 'Included') {\r\n                    ctrl.current.jsonData.flags[key].Excluded = !ctrl.current.jsonData.flags[key].Included\r\n                }\r\n                else if (type == 'Excluded') {\r\n                    ctrl.current.jsonData.flags[key].Included = !ctrl.current.jsonData.flags[key].Excluded\r\n                }\r\n\r\n\r\n                flagVarIncluded = flagVarIncluded | (ctrl.current.jsonData.flags[key].Included ? MeasurementStateFlags[key] : 0);\r\n                flagVarExcluded = flagVarExcluded | (ctrl.current.jsonData.flags[key].Excluded ? MeasurementStateFlags[key] : 0);\r\n            });\r\n        }\r\n\r\n        ctrl.current.jsonData.Included = '0x' + ctrl.padDigits(this.dec2hex(flagVarIncluded), 8);\r\n        ctrl.current.jsonData.Excluded = '0x' + ctrl.padDigits(this.dec2hex(flagVarExcluded), 8);\r\n    }\r\n\r\n    dec2hex(number) {\r\n        if (number < 0) {\r\n            number = 0xFFFFFFFF + number + 1;\r\n        }\r\n\r\n        return number.toString(16).toUpperCase();\r\n    }\r\n\r\n    padDigits(number, digits) {\r\n        return Array(Math.max(digits - String(number).length + 1, 0)).join(0) + number;\r\n    }\r\n\r\n    // #endregion\r\n\r\n}\r\nOpenHistorianQueryOptionsCtrl.templateUrl = 'partial/query.options.html';\r\n\r\n// #region Constants\r\nconst MeasurementStateFlags =\n    {\n        /// <summary>\n        /// Defines normal state.\n        /// </summary>\n        'Select All': 0,\n        /// <summary>\n        /// Defines bad data state.\n        /// </summary>\n        BadData: Math.pow(2, 0),\n        /// <summary>\n        /// Defines suspect data state.\n        /// </summary>\n        SuspectData: Math.pow(2, 1),\n        /// <summary>\n        /// Defines over range error, i.e., unreasonable high value.\n        /// </summary>\n        OverRangeError: Math.pow(2, 2),\n        /// <summary>\n        /// Defines under range error, i.e., unreasonable low value.\n        /// </summary>\n        UnderRangeError: Math.pow(2, 3),\n        /// <summary>\n        /// Defines alarm for high value.\n        /// </summary>\n        AlarmHigh: Math.pow(2, 4),\n        /// <summary>\n        /// Defines alarm for low value.\n        /// </summary>\n        AlarmLow: Math.pow(2, 5),\n        /// <summary>\n        /// Defines warning for high value.\n        /// </summary>\n        WarningHigh: Math.pow(2, 6),\n        /// <summary>\n        /// Defines warning for low value.\n        /// </summary>\n        WarningLow: Math.pow(2, 7),\n        /// <summary>\n        /// Defines alarm for flat-lined value, i.e., latched value test alarm.\n        /// </summary>\n        FlatlineAlarm: Math.pow(2, 8),\n        /// <summary>\n        /// Defines comparison alarm, i.e., outside threshold of comparison with a real-time value.\n        /// </summary>\n        ComparisonAlarm: Math.pow(2, 9),\n        /// <summary>\n        /// Defines rate-of-change alarm.\n        /// </summary>\n        ROCAlarm: Math.pow(2, 10),\n        /// <summary>\n        /// Defines bad value received.\n        /// </summary>\n        ReceivedAsBad: Math.pow(2, 11),\n        /// <summary>\n        /// Defines calculated value state.\n        /// </summary>\n        CalculatedValue: Math.pow(2, 12),\n        /// <summary>\n        /// Defines calculation error with the value.\n        /// </summary>\n        CalculationError: Math.pow(2, 13),\n        /// <summary>\n        /// Defines calculation warning with the value.\n        /// </summary>\n        CalculationWarning: Math.pow(2, 14),\n        /// <summary>\n        /// Defines reserved quality flag.\n        /// </summary>\n        ReservedQualityFlag: Math.pow(2, 15),\n        /// <summary>\n        /// Defines bad time state.\n        /// </summary>\n        BadTime: Math.pow(2, 16),\n        /// <summary>\n        /// Defines suspect time state.\n        /// </summary>\n        SuspectTime: Math.pow(2, 17),\n        /// <summary>\n        /// Defines late time alarm.\n        /// </summary>\n        LateTimeAlarm: Math.pow(2, 18),\n        /// <summary>\n        /// Defines future time alarm.\n        /// </summary>\n        FutureTimeAlarm: Math.pow(2, 19),\n        /// <summary>\n        /// Defines up-sampled state.\n        /// </summary>\n        UpSampled: Math.pow(2, 20),\n        /// <summary>\n        /// Defines down-sampled state.\n        /// </summary>\n        DownSampled: Math.pow(2, 21),\n        /// <summary>\n        /// Defines discarded value state.\n        /// </summary>\n        DiscardedValue: Math.pow(2, 22),\n        /// <summary>\n        /// Defines reserved time flag.\n        /// </summary>\n        ReservedTimeFlag: Math.pow(2, 23),\n        /// <summary>\n        /// Defines user defined flag 1.\n        /// </summary>\n        UserDefinedFlag1: Math.pow(2, 24),\n        /// <summary>\n        /// Defines user defined flag 2.\n        /// </summary>\n        UserDefinedFlag2: Math.pow(2, 25),\n        /// <summary>\n        /// Defines user defined flag 3.\n        /// </summary>\n        UserDefinedFlag3: Math.pow(2, 26),\n        /// <summary>\n        /// Defines user defined flag 4.\n        /// </summary>\n        UserDefinedFlag4: Math.pow(2, 27),\n        /// <summary>\n        /// Defines user defined flag 5.\n        /// </summary>\n        UserDefinedFlag5: Math.pow(2, 28),\n        /// <summary>\n        /// Defines system error state.\n        /// </summary>\n        SystemError: Math.pow(2, 29),\n        /// <summary>\n        /// Defines system warning state.\n        /// </summary>\n        SystemWarning: Math.pow(2, 30),\n        /// <summary>\n        /// Defines measurement error flag.\n        /// </summary>\n        MeasurementError: Math.pow(2, 31)\n    }\n\n// #endregion\n"]}